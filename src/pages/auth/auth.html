<!--
  Generated template for the AuthPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <ion-title>{{isLogin ? 'Login' : 'Signup'}}</ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>
  <form [formGroup]="form" >
    <ion-grid>
      <ion-row>
        <ion-col col-12 col-sm-6 offset-sm-3>
          <ion-item>
            <ion-label floating>Email</ion-label>
            <ion-input type="email" email autocomplete formControlName="email"></ion-input>
          </ion-item>
          <div *ngIf="!form.get('email').valid && form.get('email').touched" class="error-msg">
            <ion-icon name="alert"></ion-icon>
            Email not vaild.
          </div>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col col-12 col-sm-6 offset-sm-3>
          <ion-item>
            <ion-label floating>Password</ion-label>
            <ion-input type="password" formControlName="password"></ion-input>
          </ion-item>
          <div *ngIf="!form.get('password').valid && form.get('password').touched" class="error-msg">
            <ion-icon name="alert"></ion-icon>
            Password must be at least 6 characters..
          </div>
          
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col col-12 col-sm-6 offset-sm-3 padding>
          <button
          ion-button
          color="primary"
          full
          clear
          (click)="switchAuth()"
          >
            Switch to {{ isLogin ? 'Signup' : 'Login' }}
          </button>
          <button
            ion-button
            color="success"
            block
            (click)="onAuthenticate()"
            [disabled]="!form.valid"
          >
            {{ isLogin ? 'Login' : 'Signup' }}
          </button>
          <ion-item no-lines>
          <button ion-button no-margin clear item-right (click)="skipAuth()">Skip</button>
          </ion-item>
        </ion-col>
      </ion-row>
    </ion-grid>
  </form>
</ion-content>
